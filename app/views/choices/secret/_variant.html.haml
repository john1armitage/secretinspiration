- name = variant.item.name
- name += ": #{variant.name}" unless variant.name == 'default'
- price = variant.price.to_d > 0 ? variant.price : variant.item.price
%li.catalogue
  %section
    .store-variant
      - if pic = variant.pics.first
        - title = variant.item.notes.blank? ? name : variant.item.notes
        %a.gallery.no_ajaxify.show-for-small-only{ href: pic.image_url(:mobile), rel: @choice.name, title: title }
          != render :partial => "choices/#{current_tenant.domain}/image", locals: {variant: variant, pic: pic, name: name}
        %a.gallery.no_ajaxify.hide-for-small-only{ href: pic.image_url(:detail), rel: @choice.name, title: title }
          != render :partial => "choices/#{current_tenant.domain}/image", locals: {variant: variant, pic: pic, name: name}
      - else
        %p
          Sorry, no pic yet<br/><br/><br/>
  %section.section.vertical-tabs{data: {section:  'vertical-tabs'}}
    - cart_id = params[:cart_id].present? ? params[:cart_id] : nil
    - param = "variant_id: #{variant.id}"
    - param += ", cart_id: #{params[:cart_id]}" if params[:cart_id].present?
    - param += ", order_id: #{params[:order_id]}, bill: true" if params[:order_id].present?
    = button_to "#{name} #{humanized_money_with_symbol( price )}", eval("line_items_path(#{param})"),
      form_class: 'no_ajaxify', :remote => true, title: 'Add to Wishes'
